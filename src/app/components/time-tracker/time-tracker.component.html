<mat-card>
  <form>
      <mat-form-field class="field field-small">
        <mat-select (selectionChange)="selectIssue()"  [(ngModel)]="timeTracker.issue" [ngModelOptions]="{standalone: true}" placeholder="Issue">
          <mat-option>None</mat-option>
          <mat-option *ngFor="let issue of issues" [value]="issue">{{issue.subject}}</mat-option>
        </mat-select>
        <!--input type="text" [formControl]="issueCtrl" name="issue" placeholder="Issue" matInput [matAutocomplete]="auto">
        <mat-autocomplete (optionSelected)="selectIssue($event.option.value)" autoActiveFirstOption #auto="matAutocomplete">
          <mat-option *ngFor="let issue of filteredIssues | async" [value]="issue.tracker + ' #' + issue.id + ': ' + issue.subject">
            {{issue.tracker}} #{{issue.id}}: {{issue.subject}}
          </mat-option>
        </mat-autocomplete-->
      </mat-form-field>
      <mat-form-field class="field field-large">
          <input matInput type="text" placeholder="Task description" [(ngModel)]="timeTracker.comment"  [ngModelOptions]="{standalone: true}" >
          <button mat-button *ngIf="timeTracker.comment" matSuffix mat-icon-button aria-label="Clear" (click)="taskDescription=''">
            <mat-icon>close</mat-icon>
          </button>
        </mat-form-field>
      <mat-form-field class="field field-small">
          <mat-select (selectionChange)="selectProject()" placeholder="Project" [(ngModel)]="timeTracker.project" [ngModelOptions]="{standalone: true}">
            <mat-option>None</mat-option>
            <mat-option *ngFor="let project of projects" [value]="project">{{project.name}}</mat-option>
          </mat-select>
          <!--input type="text" [formControl]="projectCtrl" name="project" placeholder="Project" matInput [matAutocomplete]="auto">
            <mat-autocomplete (optionSelected)="selectProject($event.option.value)" autoActiveFirstOption #auto="matAutocomplete">
              <mat-option *ngFor="let project of filteredProjects | async" [value]="project.name + ' (' + project.id + ')'">
                {{project.name}} ({{project.id}})
              </mat-option>
            </mat-autocomplete-->
        </mat-form-field>
      <span class="field">{{ currentTrackerTimeString }}</span>
      <mat-checkbox [(checked)]="timeTracker.billable" class="field">Billable</mat-checkbox>
      <button *ngIf="this.timeTracker.id === undefined" (click)="startTimeTracker()" class="field" mat-flat-button color="primary">Start</button>
      <button *ngIf="this.timeTracker.id !== undefined" (click)="stopTimeTracker()" class="field" mat-flat-button color="warn">Stop</button>
      <mat-slide-toggle [checked]="automaticMode" [disabled]="automaticLock" class="field">Automatic mode</mat-slide-toggle>
  </form>
</mat-card>
